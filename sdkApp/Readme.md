本SDKは、皮膚計測器用との間でBluetooth通信を行って、皮膚計測器をコントロールする各機能を提供する。 

# SDKの構成
本SDKは、APICommand クラスとDataParseクラスで構成されます。

| クラス | 用途 |
| ------------- | ------------- |
| APICommand | 皮膚計測器とBluetooth通信を使ってコマンドを実行させる機能を提供します。  |
| DataParse | APIコマンドで得られた結果をパースして構造体データに変換します。  |

# 使用例
```
ここには、実際のソースコードからの抜粋を転記予定。
```

# APICommand クラス（APIモジュールライブラリー）

## execute(command: String)
皮膚計測器にBluetooth通信を使って任意のコマンドを実行させる。
※ 実行できるコマンドについては別紙「API Interface Commandの概要(TBD)」に準拠する。

### 引数
| 引数  | 内容 |
| ------------- | ------------- |
| command | コマンド文字列 |

### 戻り値
無し。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## extractingNumbers(str: String) -> String
皮膚計測器にBluetooth通信を使って任意のコマンドを実行させ、結果を取り出す。
※ 実行できるコマンドについては別紙「API Interface Commandの概要(TBD)」に準拠する。

### 引数
| 引数  | 内容 |
| ------------- | ------------- |
| str | String | 

### 戻り値
無し。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## getConnectCondition()
皮膚計測器とのBluetooth通信の電波状況を取得する。

### 引数
無し。

### 戻り値
無し。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## sendModeChange(command: String)
皮膚計測器の計測モードを変更する。

### 引数
無し。

### 戻り値
無し。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## sendToneDispSettings(command: String, seg: Int)
皮膚計測器の音量、輝度を変更する。

### 引数
| 引数  | 内容 |
| ------------- | ------------- |
| command | コマンド | 
| seg | 1 音量、2 輝度 |

### 戻り値
無し。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


# DataParseクラス（ObservableObject）

## changeDataToArray(dataStr:String)->[String]
取得したデータを配列に変更する。

### 引数
| 引数  | 内容 |
| ------------- | ------------- |
| dataSre | 取得データ |

### 戻り値
取得したデータ配列。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## changeFromHexadimal(command:String)->Int?
16進数のコマンドを10進数のコマンドに変更する。

### 引数
| 引数  | 内容 |
| ------------- | ------------- |
| command | コマンド |

### 戻り値
10進数のコマンド

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## changeMode(modeStr:String)
モードを変更する。

### 引数
| 引数  | 内容 |
| ------------- | ------------- |
| modeStr | 0:独立モード 1:通信モード 3：記録モード | 

### 戻り値
無し。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## changeTimeOutFlg(comAndData:[String])
タイムアウトの状態を変更する。
    //MARK: - timeout

### 引数
| 引数  | 内容 |
| ------------- | ------------- |
| comAndDara | [コマンド,データ] | 

### 戻り値
無し。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## changeToHexadimal(addressNum:Int)->String
履歴アドレス番号の下2桁を16進数に変換する。

### 引数
| 引数  | 内容 |
| ------------- | ------------- |
| addressNum | アドレス番号 | 

### 戻り値
16進数に変換したアドレス番号

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## compareReadCommand(bleCommand:String)->Bool
コマンドが正しいか判定する。

### 引数
| 引数  | 内容 |
| ------------- | ------------- |
| bleCommand | コマンド |

### 戻り値
true or false

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## createPollingHistoryTimer()
履歴を取得するポーリングタイマーを作成する。

### 引数
無し。

### 戻り値
無し。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## createPollingMeasureTimer()
測定状態を取得するポーリングタイマーを作成する。

### 引数
無し。

### 戻り値
無し。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## finishLogic()
データの読み取りを終了する。

### 引数
無し。

### 戻り値
無し。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## getAllHistory()
履歴データを取得する。

### 引数
無し。

### 戻り値
無し。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## getBattery()
バッテリーの状態を取得する。
    //MARK: - データの取得処理

### 引数
無し。

### 戻り値
無し。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## getCommandAndData(str:String)->[String]
BLEから受け取ったデータをコマンドとデータに分解する。
    //MARK: - bleのデータパース

### 引数
| 引数  | 内容 |
| ------------- | ------------- |
| str | 取得データ | 

### 戻り値
[コマンド,データ]

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## getData()
全ての履歴を取得する。

### 引数
無し。

### 戻り値
無し。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## getErrorLog() 
エラー履歴を取得する。

### 引数
無し。

### 戻り値
無し。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## getErrorLogic()
エラーが発生した時のロジック情報を取得する。
    //MARK: - service function

### 引数
無し。

### 戻り値
無し。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## getIpadTimeCommand(format:String,tmpCommand:String)->String
    //ipad時間を送るコマンドの作成

### 引数
無し。

### 戻り値
無し。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## getOneHistoryNumber()
履歴の件数を取得する。

### 引数
無し。

### 戻り値
無し。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## initCommandNum()
コマンドを初期化する。

### 引数
無し。

### 戻り値
無し。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## initMeasure(isRead:Bool)
測定状態を初期化する。
    //MARK: - 初期化・終了処理

### 引数
無し。

### 戻り値
無し。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## initPolling()
ポーリングを開始する。

### 引数
無し。

### 戻り値
無し。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## initRead()
読み取り状態を初期化する。

### 引数
無し。

### 戻り値
無し。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## isCorrectData(datas:[String])->Bool
与えられたデータがコマンドとデータを持った配列か判定する。

### 引数
| 引数  | 内容 |
| ------------- | ------------- |
| datas |  |

### 戻り値
true or false

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## isTimeOutCommand(command:String)->Bool
与えられたコマンドがtimeoutさせるコマンドか判定する。
trueの場合はtimeout処理を入れる。

### 引数
| 引数  | 内容 |
| ------------- | ------------- |
| command | コマンド |

### 戻り値
true or false

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## nextLogic(comAndData:[String])
次の読み取りをする。

### 引数
| 引数  | 内容 |
| ------------- | ------------- |
| comAndData |  |

### 戻り値
無し。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## parceError(dataStr:String)
エラーをパースする。

### 引数
| 引数  | 内容 |
| ------------- | ------------- |
| dataStr | 取得データ（エラー） | 

### 戻り値
無し。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## parseBattery(dataStr:String)
バッテリーデータをパースする。
    //MARK: - dataパース

### 引数
| 引数  | 内容 |
| ------------- | ------------- |
| dataStr | 取得データ（バッテリー） | 

### 戻り値
無し。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## parseHeadStatus(dataStr:String)
押し当て状態データをパースする。

### 引数
| 引数  | 内容 |
| ------------- | ------------- |
| dataStr | 取得データ（測定状態が押し当て） | 

### 戻り値
無し。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## parseHistory(dataStr:String)
履歴データをパースする。

### 引数
| 引数  | 内容 |
| ------------- | ------------- |
| dataStr | 取得データ（履歴） | 

### 戻り値
無し。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## parseIpadDate(dataStr:String)
日付データをパースする。

### 引数
| 引数  | 内容 |
| ------------- | ------------- |
| dataStr | 取得データ（iPadの日付） | 

### 戻り値
無し。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## parseMeasurePolling(dataStr:String)
    /// 計測開始

### 引数
| 引数  | 内容 |
| ------------- | ------------- |
| dataStr | 取得データ（測定状態が測定中） | 

### 戻り値
無し。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## parseReadHistory(dataStr:String)
    /// 読み込みデータのパース

### 引数
| 引数  | 内容 |
| ------------- | ------------- |
| dataStr | 取得データ（履歴） | 

### 戻り値
無し。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## parseSingleHistory(dataStr:String) 
最新の計測結果データをパースする。

### 引数
| 引数  | 内容 |
| ------------- | ------------- |
| dataStr | 取得データ（履歴1件） | 

### 戻り値
無し。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## pollingHistory(timer: Timer)
    //MARK: - timer

### 引数
| 引数  | 内容 |
| ------------- | ------------- |
| timer |  | 

### 戻り値
無し。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## pollingMeasure(timer: Timer)

### 引数
| 引数  | 内容 |
| ------------- | ------------- |
| timer |  | 

### 戻り値
無し。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## processGetValue(dataStr:String)
    /// 取得したデータの振り分け
    //MARK: - dataパース本体

### 引数
| 引数  | 内容 |
| ------------- | ------------- |
| dataStr | BLE機器から取得したデータ | 

### 戻り値
無し。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## pushSegmentV(_ seg: Int, selectValue: Int) 
    /// 音量・輝度の設定
    //MARK: - データの送信処理

### 引数
| 引数  | 内容 |
| ------------- | ------------- |
| seg | 1:音量 2:輝度 | 
| selectValue | セグメントの選択値 | 

### 戻り値
無し。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## setIpadTime()
    /// ipad日時の送信

### 引数
無し。

### 戻り値
無し。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## setMultiCommand(command:String,num:Int)
    /// コマンドを複数回実行する。

### 引数
| 引数  | 内容 |
| ------------- | ------------- |
| command | コマンド | 
| num | 実行回数 | 

### 戻り値
無し。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## setReadCommand(addressNum:Int,commandNum:Int)
    /// 与えられたアドレス番号でコマンド実行

### 引数
| 引数  | 内容 |
| ------------- | ------------- |
| addressNum |  | 
| commandNum |  | 

### 戻り値
無し。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## startAllTimer()
    ///

### 引数
無し。

### 戻り値
無し。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## startBLEMeasure()
    /// 測定開始コマンドの設定

### 引数
無し。

### 戻り値
無し。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## stopAllTimer()
    /// 全ポーリング停止

### 引数
無し。

### 戻り値
無し。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## stopPollingHistoryTimer()
    /// 履歴数取得ポーリングの停止

### 引数
無し。

### 戻り値
無し。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## stopPollingMeasureTimer()
    /// 測定ポーリングの停止

### 引数
無し。

### 戻り値
無し。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```


## writeTextData (_ mycommand: String)
    //MARK: - bluetooth
    ///

### 引数
| 引数  | 内容 |
| ------------- | ------------- |
| mycommand |  | 

### 戻り値
無し。

### サンプルコード
```
ここには、実際のソースコードからの抜粋を転記予定。
```
